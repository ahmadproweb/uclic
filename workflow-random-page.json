{
  "nodes": [
    {
      "parameters": {
        "path": "random",
        "responseMode": "responseNode",
        "options": {}
      },
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [240, 300],
      "webhookId": "random-page"
    },
    {
      "parameters": {
        "html": "<div class=\"container\">\n    <div class=\"content\">\n        <div class=\"logo\">UCLIC</div>\n        <h1>Découvrez un article au hasard</h1>\n        <div class=\"loader-container\">\n            <div class=\"loader\"></div>\n            <p>Recherche d'un article passionnant...</p>\n        </div>\n    </div>\n</div>",
        "cssStyles": "@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');\n\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-family: 'Poppins', sans-serif;\n    min-height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    padding: 20px;\n}\n\n.container {\n    width: 100%;\n    max-width: 600px;\n    background: rgba(255, 255, 255, 0.95);\n    backdrop-filter: blur(10px);\n    border-radius: 20px;\n    padding: 40px;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n    text-align: center;\n}\n\n.content {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 30px;\n}\n\n.logo {\n    font-size: 2.5em;\n    font-weight: 600;\n    color: #764ba2;\n    letter-spacing: 2px;\n}\n\nh1 {\n    font-size: 1.8em;\n    color: #2d3748;\n    font-weight: 600;\n    line-height: 1.4;\n    margin: 0;\n}\n\n.loader-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 20px;\n}\n\n.loader {\n    width: 50px;\n    height: 50px;\n    border: 4px solid #f3f3f3;\n    border-top: 4px solid #764ba2;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n}\n\np {\n    color: #4a5568;\n    font-size: 1.1em;\n    margin: 0;\n}\n\n@media (max-width: 480px) {\n    .container {\n        padding: 30px 20px;\n    }\n    \n    h1 {\n        font-size: 1.5em;\n    }\n    \n    .logo {\n        font-size: 2em;\n    }\n}",
        "head": "<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>Article Aléatoire - UCLIC</title>",
        "script": "fetch('/webhook/random-redirect')\n    .then(response => response.json())\n    .then(data => {\n        if (data && data.redirectUrl) {\n            window.location.href = data.redirectUrl;\n        }\n    })\n    .catch(error => {\n        console.error('Erreur:', error);\n        document.querySelector('p').textContent = 'Une erreur est survenue. Veuillez réessayer.';\n    });"
      },
      "name": "Generate HTML template",
      "type": "n8n-nodes-base.html",
      "position": [460, 300],
      "typeVersion": 1
    },
    {
      "parameters": {
        "options": {
          "responseHeaders": {
            "entries": [
              {
                "name": "cache-control",
                "value": "no-store, no-cache, must-revalidate, proxy-revalidate"
              },
              {
                "name": "pragma",
                "value": "no-cache"
              },
              {
                "name": "expires",
                "value": "0"
              }
            ]
          }
        }
      },
      "name": "Respond to Webhook",
      "type": "n8n-nodes-base.respondToWebhook",
      "position": [680, 300],
      "typeVersion": 1
    }
  ],
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "Generate HTML template",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate HTML template": {
      "main": [
        [
          {
            "node": "Respond to Webhook",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
} 